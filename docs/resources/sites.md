---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "umbrella_sites Resource - terraform-provider-umbrella"
subcategory: ""
description: |-
  Manages sites in Cisco Umbrella. Sites represent organizational locations and are foundational for other Umbrella resources.
---

# umbrella_sites (Resource)

Manages sites in Cisco Umbrella. Sites represent organizational locations and are foundational for other Umbrella resources.

Sites are used to organize and manage network deployments within your Umbrella organization. They serve as containers for internal networks, virtual appliances, and other deployment components.

## Example Usage

```terraform
# Basic site configuration
resource "umbrella_sites" "main_office" {
  name = "Main Office"
}

# Site with explicit configuration
resource "umbrella_sites" "branch_office" {
  name       = "Branch Office - New York"
  is_default = false
}

# Multiple sites for different locations
resource "umbrella_sites" "offices" {
  for_each = toset([
    "San Francisco Office",
    "London Office", 
    "Tokyo Office"
  ])
  
  name = each.value
}
```

## Schema

### Required

- `name` (String) The name of the site (1-255 characters)

### Optional

- `is_default` (Boolean) Specifies whether the site is the default. Defaults to `false`.

### Read-Only

- `created_at` (String) The date and time when the site was created
- `id` (String) The unique identifier for this site (same as site_id)
- `internal_network_count` (Number) The number of internal networks that are attached to the site
- `modified_at` (String) The date and time when the site was last modified
- `origin_id` (Number) The origin ID of the site
- `site_id` (Number) The ID of the site
- `type` (String) The type of the site (SITE or MOBILE_DEVICE)
- `va_count` (Number) The number of virtual appliances that are attached to the site

## Import

Sites can be imported using their site ID:

```shell
terraform import umbrella_sites.example 12345
```

## API Reference

This resource uses the following Cisco Umbrella API endpoints:

- **POST** `/deployments/v2/sites` - Create a site
- **GET** `/deployments/v2/sites/{siteId}` - Get a site
- **PUT** `/deployments/v2/sites/{siteId}` - Update a site
- **DELETE** `/deployments/v2/sites/{siteId}` - Delete a site

## Validation Rules

- **name**: Must be between 1 and 255 characters in length
- **is_default**: Only one site per organization can be marked as default

## Notes

- Sites are foundational resources in Umbrella and are required for deploying internal networks and virtual appliances
- Deleting a site will also remove all associated internal networks and virtual appliances
- The `type` field is automatically determined by the Umbrella system based on the site configuration
- Site names should be descriptive and unique within your organization for easier management

## Common Use Cases

### Office Locations
```terraform
resource "umbrella_sites" "headquarters" {
  name       = "Corporate Headquarters"
  is_default = true
}

resource "umbrella_sites" "branch_offices" {
  for_each = var.branch_locations
  
  name = "Branch Office - ${each.value.city}"
}
```

### Development Environments
```terraform
resource "umbrella_sites" "dev_environments" {
  for_each = toset(["development", "staging", "testing"])
  
  name = "Environment - ${title(each.value)}"
}
```

### Geographic Regions
```terraform
locals {
  regions = {
    "us-east"    = "US East Coast"
    "us-west"    = "US West Coast" 
    "europe"     = "European Operations"
    "asia-pac"   = "Asia Pacific"
  }
}

resource "umbrella_sites" "regional_sites" {
  for_each = local.regions
  
  name = each.value
}
```

## Troubleshooting

### Common Errors

**Site name validation error**
```
Error: site name must be between 1 and 255 characters
```
Ensure the site name is not empty and does not exceed 255 characters.

**Duplicate site name**
```
Error: Failed to create site: site name already exists
```
Site names must be unique within your organization. Choose a different name or check existing sites.

**Permission denied**
```
Error: insufficient permissions: 403 Forbidden
```
Ensure your API credentials have the `deployments.sites:write` scope for create/update/delete operations and `deployments.sites:read` for read operations.

### Best Practices

1. **Naming Convention**: Use descriptive, consistent naming conventions for sites
2. **Default Site**: Only mark one site as default per organization
3. **Planning**: Plan your site structure before creating resources that depend on sites
4. **Monitoring**: Monitor site usage and associated resources regularly
5. **Documentation**: Document the purpose and scope of each site for team collaboration